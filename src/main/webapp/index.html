<!DOCTYPE html>

<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Expense Tracker</title>
        
        <script  type="module" src="./apis/wallets.js"></script>
        

        <link href="https://fonts.googleapis.com/css?family=Quicksand:300,500" rel="stylesheet">

        <!-- Bootstap CDN -->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-Zenh87qX5JnK2Jl0vWa8Ck2rdkQ2Bzep5IDxbcnCeuOxjzrPF/et3URy9Bv1WTRi" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-OERcA2EqjJCMA+/3y+gxIOqMEjwtxJY7qPCqsdltbNJuaOe923+mo//f6V8Qbsw3" crossorigin="anonymous"></script>

        <!-- Font Awesome CDN -->
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.2.0/css/all.min.css">


        <!-- Include Required Prerequisites -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/1/jquery.min.js"></script>
        <script type="text/javascript" src="//cdn.jsdelivr.net/momentjs/latest/moment.min.js"></script>
        
        <!-- Include Date Range Picker -->
        <script type="text/javascript" src="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.js"></script>
        <link rel="stylesheet" type="text/css" href="//cdn.jsdelivr.net/bootstrap.daterangepicker/2/daterangepicker.css" />

        <link rel="stylesheet" href="https://s.cdpn.io/55638/selectize.0.6.9.css">
        <script src="https://s.cdpn.io/55638/selectize.min.0.6.9.js"></script>


        <link rel="stylesheet" href="./css/style.css">

    </head>

    <div id="spinner">
        <div style="display: flex;align-items: center;justify-content: center;height: 100%;width: 100%;">
            <div class="spinner-border" role="status">
                <span class="visually-hidden">Loading...</span>
            </div>
        </div>
    </div>

    <body>

        <!-- Navbar  -->
        <nav class="navbar navbar-expand-xl navbar-light bg-light">
            <div class="container-fluid d-flex">
                <h4><i class="fa-solid fa-chart-pie"></i> Expense Tracker App</h4>

                <div class="d-flex">
                    <a class="nav-item" href="index.html" tabs="dashboard"><i class="fa-solid fa-house"></i></a>
                    <div class="vr"></div>
                    <a class="nav-item" href="wallets.html" tabs="wallets"><i class="fa-solid fa-wallet"></i></a>
                </div>

                <div class="nav-right-options d-flex">
                    <h5 class="nav-item logout"><i class="fas fa-sign-out-alt"></i></h5>
                </div>

            </div>
        </nav>

        <!-- DashBoard -->
        <div id="dashboard"> 

            <!-- #date-range-template template will be mounted here -->
            <div id="date-range-selector"></div>

            <!-- multiple #expense-card-template will be mounted here -->
            <div id="expense-card-container" class="container"></div>


        </div>
        
    </body>


</html>



<!--  Dashboard Templates   -->


<!-- Section 1 -->
<template id="date-range-template">

    <div class="d-flex flex-column justify-content-between mt-5 mb-5 container">

        <div class=" mt-2 mb-2 card main-balance">
            <div class="">

                <div class="mi-bal-body d-flex card-body align-items-center justify-content-between">
                    <div class="mi-bal-right">
                        <span>Available Balance</span>
                        <span>( <span id="total-acct-count">3</span> wallets)</span>

                        <div class="d-flex">
                            <div class="mi-bal-left d-flex align-items-center"><i class="fas fa-cannabis"></i>&nbsp;</div>

                            <div id="mi-bal-amount" class="display-1">
                                10,000 ₹
                            </div>
                            &nbsp;&nbsp;
                            <!-- <span class="muted">INR</span> -->
                        </div>


                    </div>

                    <button type="button"  class="btn btn-primary" id="create-expense-btn" data-bs-toggle="modal" data-bs-target="#newRecord" data-bs-whatever="@getbootstrap">
                        + New Expense
                    </button>

                </div>
                
            </div>
        </div>


        <hr>

        <div class="d-flex justify-content-center">


            <div id="reportrange" class="pull-right d-flex" style="background: #fff; cursor: pointer; border: 1px solid #ccc; width: auto">
                <div class="label d-flex align-items-center"><i class="glyphicon glyphicon-calendar fa fa-calendar"></i></div>
                <span class="date"></span> <b class="caret"></b>
    
                <span id="date-range-type">Today</span>

                <span class="reporting-days-total d-flex align-items-center justify-content-center">20000</span>
                <span class="reporting-total-symbol d-flex align-items-center justify-content-center">₹</span>
            </div>

        </div>

        <!-- New Record Popup modal -->
        <div class="modal fade" id="newRecord" class="new-expense-form" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
              <div class="modal-content">
    
              </div>
            </div>
        </div>
    
    </div>

</template>

<!-- Section 2 Single Expense card  -->
<template id="expense-card-template">
    <div class="card expense-card">
        <div class="card-body d-flex align-items-center">
        
            <span class="category-ico d-flex align-items-center justify-content-center">
                <i class="fa-solid fa-trophy" class="category-ico"></i>
            </span>

            <div class="d-flex flex-column  expense-card-left">
                
                <span style="font-size: 22px" class="title">Sample Expense</span>

                <div class="d-flex flex-row">
                    <div class="d-flex flex-row align-items-center" style="width: 300px;">
                        <span style="font-size: 17px" class="category">Sample Expense</span>
                        &nbsp;&nbsp;&nbsp;
                        <i><span style="font-size: 15px" class="spend-on"> 5:40 AM</span></i> 
                    </div>
    
                </div>
    
            </div>

                
            <span style="font-size: 18px;" class="expense-card-wallet">
                <i class="fa-solid fa-circle text-green" style="font-size: 10px;color:green;"></i> 
                <span class="wallet-name">Isndian Bank</span>
                <br>
                <i><span style="font-size: 15px" class="wallet-type"> Bank Account</span></i> 
            </span>

            
            <div class="d-flex align-items-center tags-section ">
                <i class="fa-solid fa-tag"></i>
                <div class="all-tags-section d-flex ">

                </div>
                <!-- <span class="m-1"></span> -->
<!-- 
                <div class="tag d-flex align-items-center justify-content-between">
                    <span>&nbsp;</span>
                    <span class="tag-text">upi</span>
                </div> -->
            </div>


            <btn type="button" id="inExpEditForm" class="d-flex align-items-center btn btn-primary expense-edit-btn invisible" href="" data-bs-toggle="modal" data-bs-target="#editExpenseForm">
                <i class="fas fa-edit"></i>
            </btn>

             
            <div class="expense-card-bal-cont d-flex align-items-center justify-content-center">
                <div class="spend-amount">-23 ₹</div>

                
            </div>
            <a type="button"  class="align-items-center justify-content-center btn btn-primary expense-view-btn" href="" data-bs-toggle="modal" data-bs-target="#exampleModal">
                <i class="fas fa-eye"> </i> &nbsp; view 
            </a>

        </div>

        <!-- View Modal         -->
        <div class="modal fade view-expense-modal"  id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header d-flex flex-column w-100">

                    <div class="d-flex w-100">
                        <h5 class="modal-title title" id="exampleModalLabel">Modal title</h5>
                        <span class=" modal-title spend-amount text-red"> </span>
                        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                    </div>

                    <div class="category-section w-100 mt-3 d-flex align-items-center">
                        <div class="category-ico d-flex align-items-center justify-content-center"></div>
                        <div class="category"></div>
                    </div>

                </div>
                <div class="modal-body">

                    <div class="mb-2 d-flex flex-column">
                        <span class="h5"><b>Expense Amount</b> </span>
                        <span class="wallet-splits ">

                        </span>
                    </div>
                    
                    
                    <div class="h5 mt-4 mb-2"><b>Transaction Info</b> </div>
                        
                    <div class="mb-2 d-flex align-items-center card-field">
                        <div class="label">Spend on : </div>
                        <div class="spend-on value"></div>
                    </div>

                    <div class="mb-2 d-flex align-items-center card-field">
                        <div class="label">Created on: </div>
                        <div class="timestamp value"></div>
                    </div>
                    



                    <div class="mb-2 d-flex align-items-center flex-column w-100 card-field">
                        <div class="label w-100">Note: </div>
                        <div class="expense-note value w-100"></div>
                    </div>

                    <div class="mt-2 d-flex align-items-center all-tags-msection mb-2 mt-3">
                        <i class="fas fa-tags"></i>
                    </div>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-warning edit-expense-btn" data-bs-dismiss="modal">Edit</button>


                    <i class="fa-solid fa-trash btn btn-danger expense-delete-btn expense-id="0""></i>
                </div>
                </div>
            </div>
        </div>

        <!-- Edit Modal -->
        <div class="modal fade" id="editExpenseForm" class="edit-expense-form" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
            <div class="modal-dialog">
                <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Edit Expense</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <div class="modal-body">

                </div>
        
            </div>
        </div>
        </div>

    </div>
</template>

<!-- Create new Expense form -->
<template id="tt-new-expense-form">
    <div class="modal-header">
        <h5 class="modal-title" id="exampleModalLabel">Create New Expense</h5>
        <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
    <div class="modal-body">

          <div id="form-errors" class="text-danger">

          </div>

          <form id="create-new-expense-form" onsubmit="return false;" action="">
          <div class="mb-3">
              <label for="recipient-name" class="col-form-label expense-reason-label">Expense Reason:</label>
              <input placeholder="new clothes" maxlength="100" required type="text" class="form-control" id="expense-name">
          </div>

          <div class="d-flex flex-row justify-content-between ml-2">
              <label class="message-text" for="recipient-name" class="col-form-label">Amount :</label>
              <span class="url" id="split-wallet">split</span>
          </div>

          <div id="all-wallet-splits">
              <div class="w-split wallet-split1 d-flex mb-2">                            

                  <div class="wallet-name-section  w-75">
                      <select class="form-select form-wallet-list" aria-label="Default select" id="all-wallets-options" >
                      </select>    

                  </div>
                  <div class="m-2"></div>
                  <div class="d-flex flex-column justify-content-center w-25">
                      <div></div>
                      <input placeholder="0.00 ₹"type="number" required min="1" max="10000000" class="form-control" id="expense-amount"></input>
                      
                  </div>

              </div>

          </div>

          <div class="d-flex flex-row-reverse mt-3">
              <span id="expense-more">+ add more details</span>
          </div>
          
          <div class="more-expense-info" style="display: none;">
              
              <div class="mb-3">
                  <div class="d-flex align-items-center justify-content-between">
                      <label for="message-text" class="col-form-label" id="category-label">Category:</label>
                  </div>

                  <div class="d-flex">
                      <!-- <i class=""></i> -->
                      <div id="form-category-icon">
                          <i class="fa-regular fa-gem d-flex align-items-center justify-content-center"></i> 
                      </div>

                      <select name="new-category-icon" class="form-select" id="new-category-icon" style="display: none;">
                      </select>

                      <input type="text" class="form-control" maxlength="20" id="new-category-input" placeholder="Food Expense" style="display: none;">


                      <select class="form-select" aria-label="Default select" id="all-categories-options">
                          <!-- <option selected="">Open this select menu</option>
                          <option value="1">One</option>
                          <option value="2">Two</option>
                          <option value="3">Three</option> -->
                      </select>
                  </div>
              </div>
              
              <div class="mb-3">
                  <label for="recipient-name" class="col-form-label">Spend on:</label>
                  <input placeholder="new clothes" step="any" type="datetime-local" class="form-control" id="expense-time">
              </div>

              <div class="mb-3">
                  <label  class="col-form-label">Note:</label>
                  <textarea placeholder="new clothes" maxlength="500" class="form-control" id="expense-note"></textarea>  
              </div>

              <div class="mb-3">
                  <label for="message-text" class="col-form-label">Tags:</label>
                  
                  <select name="locationSets" id="locationSets" multiple="multiple" placeholder="chennai, for friends, upi" style="width: 100%">
                  </select>

              </div>

          </div>

          <div class="modal-footer">
              <button id="save-expense-btn" type="submit" class="btn btn-primary">Save</button>
          </div>

          </form>

    </div>
</template>


<template id="tt-edit-expense-form">

            <form onsubmit="return false;" action="" >
            <div class="mb-3">
                <label for="recipient-name" class="col-form-label expense-reason-label">Expense Reason:</label>
                <input placeholder="new clothes" maxlength="50" required type="text" class="form-control" id="expense-name">
            </div>

            <div class="d-flex flex-row justify-content-between ml-2">
                <label class="message-text" for="recipient-name" class="col-form-label">Amount :</label>
                <span class="url" id="split-wallet">split</span>
            </div>

            <div id="all-wallet-splits" class="all-wallet-splits">
                <div class="w-split wallet-split1 d-flex mb-2">                            

                    <div class="wallet-name-section  w-75">
                        <select required class="form-select form-wallet-list" aria-label="Default select" id="all-wallets-options" >
                        </select>    

                    </div>
                    <div class="m-2"></div>
                    <div class="d-flex flex-column justify-content-center w-25">
                        <div></div>
                        <input placeholder="0.00 ₹"type="number" min="1" max="10000000" class="form-control" id="expense-amount"></input>
                        
                    </div>

                </div>

            </div>

            <div class="more-expense-info" style="display:block;">

                <div class="mb-3 d-flex flex-column">
                    <label for="message-text" class="col-form-label" id="category-label">Category:</label>

                    <div class="d-flex">
                        
                        <div id="form-category-icon">
                            <i class="fa-regular fa-gem d-flex align-items-center justify-content-center"></i> 
                        </div>


                        <select name="new-category-icon" class="form-select" id="new-category-icon" style="display: none;">
                        </select>

                        <input type="text"  class="form-control edit-category-input" maxlength="20" id="new-category-input" placeholder="Food Expense" style="display: none;">


                        <select class="form-select" aria-label="Default select" id="all-categories-options">
                        </select>
                        
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="recipient-name" class="col-form-label">Spend on:</label>
                    <input placeholder="new clothes" step="any" type="datetime-local" class="form-control" id="expense-time">
                </div>

                <div class="mb-3">
                    <label  class="col-form-label">Note:</label>
                    <textarea placeholder="new clothes" class="form-control" id="expense-note"></textarea>  
                </div>

                <div class="mb-3">
                    <label for="message-text" class="col-form-label">Tags:</label>
                    
                    <select name="locationSets" maxlength="10" id="locationSets" multiple="multiple" placeholder="chennai, for friends, upi" style="width: 100%">
                    </select>

                </div>

            </div>
            
            <div class="modal-footer">
                <button id="update-expense-btn" type="submit" class="btn btn-primary">Save</button>
            </div>

            </form>

</template>



<script  type="module" src="./js/dashboard.js"></script>     
<script  type="module" src="./js/common.js"></script>     